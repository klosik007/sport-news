{% extends 'base.html.twig' %}

{% block title %}Meczyki.pl{% endblock %}

{% block body %}
<style>
    .container{ margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .authors { font-size: small; }
</style>

<div class="container">
    <section id="addPost">
        <a href="{{ path('add_news') }}">Add Article</a>
    </section>
    <section id="news">
        {% if all_news|length == 0 %}
            <p>No news available</p>
        {% endif %}
        {% for key, article in all_news %}
            <h2><a href="{{ path('update_news', {id: key+1}) }}">{{ article.title }}</a></h2>
            <p class="authors">
                {% if article.author|length > 1 %}
                    <b>Authors:</b>
                {% else %}
                    <b>Author:</b>
                {% endif %}

                {% for writer in article.author %}
                    {{ writer.name }}
                {% endfor %}
                <b>Created at:</b> {{ article.createdAt.format('Y-m-d H:i:s') }}
            </p>
            <p>{{ article.text }}</p>
            <hr>
        {% endfor %}
    </section>
</div>
{% endblock %}
